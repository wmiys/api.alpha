DELIMITER $$
CREATE FUNCTION `Miles_Between`(
	lat1 DECIMAL(11,7), 
    lng1 DECIMAL(11,7), 
    lat2 DECIMAL(11,7), 
    lng2 DECIMAL(11,7)
) RETURNS double
    DETERMINISTIC
RETURN ACOS( SIN(lat1*PI()/180)*SIN(lat2*PI()/180) + COS(lat1*PI()/180)*COS(lat2*PI()/180)*COS(lng2*PI()/180-lng1*PI()/180) ) * 3959$$
DELIMITER ;
